@use '../../node_modules/@angular/material/index' as mat;
@use './theme-colors' as my-theme;

@include mat.core();

html {
  @include mat.theme((
    color: (
      theme-type: light,
      primary: my-theme.$primary-palette,
    ),
    typography: Roboto,
    density: 0,
  ));

  @include mat.datepicker-overrides((
    calendar-container-background-color: #fff,
  ));

  @include mat.tabs-overrides((
    divider-color: transparent,
  ));

  @include mat.form-field-overrides((
    outlined-outline-width: 0,
    outlined-focus-outline-width: 0,
    outlined-input-text-color: #414141,
    outlined-input-text-placeholder-color: #41414170,
    select-option-text-color: #414141,
    enabled-select-arrow-color: #6B7280,
    focus-select-arrow-color: #6B7280,
    container-text-size: 14px,
    subscript-text-size: 14px,
  ));
}

.mat-mdc-form-field {
  background-color: white !important;
}

.unified-field .mat-mdc-select-min-line,
.unified-field .mat-mdc-select-value-text,
.unified-field .mat-mdc-select-placeholder {
  font: 400 0.875rem/2.5rem var(--mat-sys-typescale-body-medium-font, Roboto, Arial, sans-serif) !important;
  color: #414141 !important;
}

.cdk-overlay-pane .mat-mdc-select-panel {
  background-color: white !important;
}

.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option {
  font-size: 0.875rem !important;
  line-height: 2rem !important;
  color: #1f1b14 !important;
}

.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option .mdc-list-item__primary-text {
  font-size: inherit !important;
  line-height: inherit !important;
  color: inherit !important;
}

.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option * {
  font-size: inherit !important;
  line-height: inherit !important;
}

.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option .mdc-list-item__primary-text {
  display: flex;
  align-items: center;
  gap: .25rem;
}

.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option mat-icon {
  font-size: 1.25rem !important;
  width: 1.25rem !important;
  height: 1.25rem !important;
  line-height: 1 !important;
  flex: 0 0 auto;
}

.cdk-overlay-pane .mat-mdc-autocomplete-panel {
  background-color: white !important;
}

.cdk-overlay-pane .mat-mdc-autocomplete-panel .mat-mdc-option {
  font-size: 0.875rem !important;
  line-height: 2rem !important;
  color: #1f1b14 !important;
}

.cdk-overlay-pane .mat-mdc-autocomplete-panel .mat-mdc-option .mdc-list-item__primary-text {
  font-size: inherit !important;
  line-height: inherit !important;
  color: inherit !important;
}

.cdk-overlay-pane .mat-mdc-autocomplete-panel .mat-mdc-option * {
  font-size: inherit !important;
  line-height: inherit !important;
}

.cdk-overlay-pane .mat-mdc-autocomplete-panel .mat-mdc-option .skill-category-label {
  font-size: 12px !important;
  line-height: 1.1 !important;
}

:root {
  --ff-h: 2.5rem;
  --ff-radius: 8px;
  --ff-bg: #ffffff;
  --ff-border: #D1D5DB;
  --ff-border-focus: #9CA3AF;
  --ff-fs: 0.875rem;
  --ff-text: #414141;
  --ff-icon: #6B7280;
  --ff-pad-x: 12px;

  /* Disabled state */
  --ff-bg-disabled: #E5E7EB;
  --ff-text-disabled: #6B7280;
  --ff-border-disabled: #9CA3AF;
  --ff-icon-disabled: #9CA3AF;
}

.mat-mdc-form-field.mat-form-field-appearance-outline {
  margin: 0 !important;
  padding: 0 !important;
  display: flex;
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mat-mdc-text-field-wrapper {
  background: var(--ff-bg);
  padding: 0 !important;
  display: flex;
  align-items: center;
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mat-mdc-form-field-infix {
  min-height: 0 !important;
  height: var(--ff-h) !important;
  display: flex;
  align-items: center;
  padding: 0 var(--ff-pad-x) !important;
  background: var(--ff-bg);
}

.mat-mdc-form-field.mat-form-field-appearance-outline input.mat-mdc-input-element {
  font-size: var(--ff-fs) !important;
  line-height: var(--ff-h) !important;
  height: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  color: var(--ff-text) !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mat-mdc-form-field-subscript-wrapper {
  display: none !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline__trailing {
  border-color: var(--ff-border) !important;
  border-width: 1px !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-form-field-appearance-outline.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-form-field-appearance-outline.mat-focused .mdc-notched-outline__trailing {
  border-color: var(--ff-border-focus) !important;
  border-width: 1px !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline {
  border-radius: var(--ff-radius);
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline__leading {
  border-top-left-radius: var(--ff-radius);
  border-bottom-left-radius: var(--ff-radius);
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mdc-notched-outline__trailing {
  border-top-right-radius: var(--ff-radius);
  border-bottom-right-radius: var(--ff-radius);
}

.mat-mdc-form-field.mat-form-field-appearance-outline .mat-mdc-form-field-focus-overlay {
  background: transparent !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-mdc-form-field-icon-prefix mat-icon,
.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-mdc-form-field-icon-suffix mat-icon,
.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-datepicker-toggle,
.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-mdc-icon-button,
.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-datepicker-toggle svg,
.mat-mdc-form-field.mat-form-field-appearance-outline
.mat-mdc-icon-button svg {
  color: var(--ff-icon) !important;
}

.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,
.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-select .mat-mdc-select-arrow {
  color: var(--ff-icon) !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline:has(textarea.mat-mdc-input-element)
.mat-mdc-text-field-wrapper {
  align-items: flex-start;
  overflow: visible !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline:has(textarea.mat-mdc-input-element)
.mat-mdc-form-field-infix {
  height: auto !important;
  min-height: 0 !important;
  display: block !important;
  padding: 8px var(--ff-pad-x) !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline textarea.mat-mdc-input-element {
  height: auto !important;
  line-height: 1.5 !important;
  resize: vertical;
  font-size: var(--ff-fs) !important;
  color: var(--ff-text) !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline:has(.mat-mdc-chip-grid)
.mat-mdc-text-field-wrapper {
  align-items: flex-start !important;
  height: auto !important;
  overflow: visible !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline:has(.mat-mdc-chip-grid)
.mat-mdc-form-field-infix {
  height: auto !important;
  min-height: 0 !important;
  display: block !important;
  padding: 8px var(--ff-pad-x) !important;
}

.mat-mdc-form-field:has(.mat-mdc-chip-grid)
.mdc-evolution-chip-set__chips {
  flex-wrap: wrap !important;
}

.mat-mdc-form-field:has(.mat-mdc-chip-grid)
input.mat-mdc-input-element {
  height: auto !important;
  line-height: 1.4 !important;
  padding: 0 !important;
  margin: 0 !important;
  font-size: var(--ff-fs) !important;
  color: var(--ff-text) !important;
}

.mat-mdc-form-field.mat-form-field-appearance-outline:not(:has(textarea.mat-mdc-input-element)):not(:has(.mat-mdc-chip-grid))
.mat-mdc-form-field-infix {
  height: var(--ff-h) !important;
  display: flex;
  align-items: center;
}

.mat-mdc-button,
.mat-mdc-unelevated-button,
.mat-mdc-raised-button,
.mat-mdc-outlined-button {
  border-radius: 8px !important;
  min-width: auto !important;
  padding: 0 20px !important;
  height: 40px !important;
  line-height: 40px !important;
  font-family: Roboto, "Helvetica Neue", sans-serif !important;
}

.mat-mdc-icon-button {
  border-radius: 8px !important;
}

.mat-mdc-form-field .mat-mdc-form-field-icon-prefix mat-icon.icon-colored {
  color: var(--icon-color, currentColor) !important;
  padding-right: 0.25rem !important;
  margin-right: 0 !important;
}

.mat-mdc-form-field.icon-selector-field {
  width: 100%;
  transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.mat-mdc-form-field.icon-selector-field.icon-selected {
  width: 3rem !important;
}

.mat-mdc-form-field.icon-selector-field input[readonly] {
  width: 0 !important;
  min-width: 0 !important;
  opacity: 0 !important;
  transition: opacity 0.2s ease-in-out, width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.mat-mdc-form-field.icon-selector-field:not(.icon-selected) input {
  opacity: 1 !important;
  transition: opacity 0.3s ease-in-out 0.1s, width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Disabled form fields - comprehensive targeting */
/* Target by mat-form-field-disabled class */
.mat-mdc-form-field.mat-form-field-disabled,
.mat-form-field-disabled {
  opacity: 0.9 !important;
  pointer-events: none !important;
}

.mat-mdc-form-field.mat-form-field-disabled .mat-mdc-text-field-wrapper,
.mat-form-field-disabled .mat-mdc-text-field-wrapper {
  background-color: #F3F4F6 !important;
}

.mat-mdc-form-field.mat-form-field-disabled .mat-mdc-form-field-infix,
.mat-form-field-disabled .mat-mdc-form-field-infix {
  background-color: #F3F4F6 !important;
}

.mat-mdc-form-field.mat-form-field-disabled input,
.mat-mdc-form-field.mat-form-field-disabled textarea,
.mat-form-field-disabled input,
.mat-form-field-disabled textarea {
  background-color: #F3F4F6 !important;
  color: #9CA3AF !important;
  -webkit-text-fill-color: #9CA3AF !important;
  cursor: not-allowed !important;
}

.mat-mdc-form-field.mat-form-field-disabled .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-form-field-disabled .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-form-field-disabled .mdc-notched-outline__trailing,
.mat-form-field-disabled .mdc-notched-outline__leading,
.mat-form-field-disabled .mdc-notched-outline__notch,
.mat-form-field-disabled .mdc-notched-outline__trailing {
  border: none !important;
  border-width: 0 !important;
}

/* Target by disabled attribute on input/textarea */
input.mat-mdc-input-element:disabled,
textarea.mat-mdc-input-element:disabled,
input.mat-input-element:disabled,
textarea.mat-input-element:disabled,
.mat-mdc-input-element:disabled,
input[disabled].mat-mdc-input-element,
textarea[disabled].mat-mdc-input-element {
  background-color: #F3F4F6 !important;
  color: #9CA3AF !important;
  -webkit-text-fill-color: #9CA3AF !important;
  opacity: 1 !important;
  cursor: not-allowed !important;
}

/* Target parent form field when it has a disabled child */
.mat-mdc-form-field:has(input:disabled),
.mat-mdc-form-field:has(textarea:disabled),
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) {
  opacity: 0.9 !important;
}

.mat-mdc-form-field:has(input:disabled) .mat-mdc-text-field-wrapper,
.mat-mdc-form-field:has(textarea:disabled) .mat-mdc-text-field-wrapper,
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) .mat-mdc-text-field-wrapper {
  background-color: #F3F4F6 !important;
}

.mat-mdc-form-field:has(input:disabled) .mat-mdc-form-field-infix,
.mat-mdc-form-field:has(textarea:disabled) .mat-mdc-form-field-infix,
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) .mat-mdc-form-field-infix {
  background-color: #F3F4F6 !important;
}

.mat-mdc-form-field:has(input:disabled) .mdc-notched-outline__leading,
.mat-mdc-form-field:has(input:disabled) .mdc-notched-outline__notch,
.mat-mdc-form-field:has(input:disabled) .mdc-notched-outline__trailing,
.mat-mdc-form-field:has(textarea:disabled) .mdc-notched-outline__leading,
.mat-mdc-form-field:has(textarea:disabled) .mdc-notched-outline__notch,
.mat-mdc-form-field:has(textarea:disabled) .mdc-notched-outline__trailing,
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) .mdc-notched-outline__leading,
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) .mdc-notched-outline__notch,
.mat-mdc-form-field:has(.mat-mdc-input-element:disabled) .mdc-notched-outline__trailing {
  border: none !important;
  border-width: 0 !important;
}
