<div
  class="select-none rounded-lg px-[0.5rem] py-[0.375rem] hover:bg-neutral-50 cursor-grab max-w-[14rem]"
>
  <div class="flex items-baseline justify-between gap-[1rem]">
    <div class="text-[0.8125rem] font-medium text-neutral-800">
      {{ skill().name }}
    </div>
    <div class="text-[0.8125rem] text-neutral-500 tabular-nums">
      {{ filledCount() }}/5
    </div>
  </div>

  <div [attr.aria-label]="skill().name + ' — niveau'" class="mt-[0.3rem] flex items-center gap-[0.375rem]"
       role="radiogroup">
    @for (i of segments(); track trackByIndex(i)) {
      <button
        type="button"
        class="h-[0.5rem] w-[2.25rem] rounded-full transition-colors duration-150
               focus:outline-none focus:ring-2 focus:ring-offset-2"
        [ngClass]="i < filledCount() ? 'bg-[var(--cat-color)]' : 'bg-neutral-200'"
        [style.--tw-ring-color]="'var(--cat-color)'"
        role="radio"
        [attr.aria-checked]="i < filledCount()"
        (click)="onSetLevel(i + 1)"
        [title]="'Définir ' + (i + 1) + '/5'"
      ></button>
    }
  </div>
</div>
