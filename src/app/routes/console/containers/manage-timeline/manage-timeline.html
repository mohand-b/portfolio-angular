<mat-tab-group (selectedIndexChange)="onTabChange($event)" [selectedIndex]="selectedTabIndex()">
  @for (meta of timelineItemTypesMeta; track meta.key) {
    <mat-tab>
      <ng-template mat-tab-label>
        <div class="flex items-center gap-2">
          <mat-icon [style.color]="meta.color">{{ meta.icon }}</mat-icon>
          <span>{{ meta.label }}</span>
        </div>
      </ng-template>

      <div class="flex flex-col gap-4 p-4">
        @switch (meta.key) {
          @case ('job') {
            <app-job-create
              [resetForm]="resetForm()"
              (jobSubmit)="onJobSubmit($event)"
            />
          }
          @case ('project') {
            <div>project</div>
          }
          @case ('certification') {
            <app-certification-create [resetForm]="resetForm()"
                                      (certificationSubmit)="onCertificationSubmit($event)"/>
          }
          @case ('other') {
            <div>other</div>
          }
        }
      </div>
    </mat-tab>
  }
</mat-tab-group>
