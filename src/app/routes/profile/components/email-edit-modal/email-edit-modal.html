<div class="flex flex-col">
  <div class="flex items-center justify-between px-6 py-3 border-b border-gray-200">
    <h2 class="text-lg font-medium text-gray-900">Modifier l'adresse email</h2>
    <button (click)="cancel()" type="button" class="text-gray-400 hover:text-gray-600 cursor-pointer">
      <mat-icon class="!w-6 !h-6 !text-[1.5rem]">close</mat-icon>
    </button>
  </div>

  <div class="flex flex-col gap-4 px-6 py-4">
    <app-alert-message
      type="warning"
      message="En modifiant votre adresse email, votre compte sera marqué comme non vérifié jusqu'à ce que vous confirmiez la nouvelle adresse via le lien envoyé par email."
    />

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Nouvelle adresse email</label>
      <input
        type="email"
        [(ngModel)]="email"
        placeholder="nouvelle@email.com"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>

    @if (errorMessage()) {
      <app-alert-message
        type="error"
        [message]="errorMessage()!"
      />
    }
  </div>

  <div class="flex items-center justify-end gap-3 px-6 py-3 border-t border-gray-200">
    <button (click)="cancel()" type="button" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer">
      Annuler
    </button>
    <button (click)="confirm()" type="submit" [disabled]="isLoading()" class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer">
      <mat-icon class="!w-5 !h-5 !text-[1.25rem]">{{ isLoading() ? 'hourglass_empty' : 'check' }}</mat-icon>
      <span>{{ isLoading() ? 'Modification...' : 'Confirmer' }}</span>
    </button>
  </div>
</div>
